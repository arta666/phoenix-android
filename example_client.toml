# Phoenix Client Configuration Example
# This configuration file defines how the Phoenix client operates.
# The client connects to the Phoenix server and opens multiple local listeners.

# remote_addr: The address of the Phoenix server.
# Example: "example.com:8080" (h2c) or "example.com:8443" (mTLS)
remote_addr = "127.0.0.1:8080"

# --- TLS Mode ---
# tls_mode: Controls how TLS certificates are verified.
#   "system" = Use OS system CA store (for CDN/Cloudflare setups).
#              The server should run in h2c mode (no private_key).
#   "" (empty/omitted) = Use Phoenix Ed25519 key pinning or h2c.
# tls_mode = "system"

# auth_token: Must match the server's auth_token for authentication.
# auth_token = "your-secret-token-here"

# --- Secure Authentication (mTLS / One-Way TLS) ---
# To enable secure mode, generate keys with `./server -gen-keys`.
# You MUST provide the Server's Public Key (`server_public_key`) to prevent MITM attacks.
#
# If you provide `private_key`, Mutual TLS (mTLS) is used (Client Auth).
# If you OMIT `private_key` but provide `server_public_key`, One-Way TLS is used (Anonymous Client).
#
# private_key = "client.private.key"
# server_public_key = "SERVER_PUBLIC_KEY..."

# [[inbounds]]: Defines a list of local listeners.
# Each inbound listener opens a local port and tunnels traffic of a specific protocol.

# Example 1: Local SOCKS5 Proxy
[[inbounds]]
# protocol: The type of traffic to handle.
# Supported values: "socks5", "shadowsocks", "ssh"
protocol = "socks5"
# local_addr: The local address and port to bind on.
local_addr = "127.0.0.1:1080"
# enable_udp: Allow SOCKS5 UDP Associate.
enable_udp = true
# auth: Optional. For Shadowsocks, this would be the password/method. For SSH, key path.
# auth = ""

# Example 2: Local SSH Tunnel Endpoint
[[inbounds]]
protocol = "ssh"
local_addr = "127.0.0.1:2022"
# auth: Not strictly required for simple forwarding, but can be used for client-side auth.
auth = "/home/user/.ssh/id_rsa"

# Example 3: Shadowsocks Proxy
[[inbounds]]
protocol = "shadowsocks"
local_addr = "127.0.0.1:8388"
auth = "chacha20-ietf-poly1305:my-secret-password"
